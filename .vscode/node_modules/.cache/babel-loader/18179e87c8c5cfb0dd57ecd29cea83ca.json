{"ast":null,"code":"function W(e, t, s) {\n  let h = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : b => b;\n  return e * h(.5 - t * (.5 - s));\n}\n\nfunction re(e) {\n  return [-e[0], -e[1]];\n}\n\nfunction l(e, t) {\n  return [e[0] + t[0], e[1] + t[1]];\n}\n\nfunction a(e, t) {\n  return [e[0] - t[0], e[1] - t[1]];\n}\n\nfunction f(e, t) {\n  return [e[0] * t, e[1] * t];\n}\n\nfunction le(e, t) {\n  return [e[0] / t, e[1] / t];\n}\n\nfunction L(e) {\n  return [e[1], -e[0]];\n}\n\nfunction ne(e, t) {\n  return e[0] * t[0] + e[1] * t[1];\n}\n\nfunction oe(e, t) {\n  return e[0] === t[0] && e[1] === t[1];\n}\n\nfunction fe(e) {\n  return Math.hypot(e[0], e[1]);\n}\n\nfunction be(e) {\n  return e[0] * e[0] + e[1] * e[1];\n}\n\nfunction Y(e, t) {\n  return be(a(e, t));\n}\n\nfunction G(e) {\n  return le(e, fe(e));\n}\n\nfunction ue(e, t) {\n  return Math.hypot(e[1] - t[1], e[0] - t[0]);\n}\n\nfunction T(e, t, s) {\n  let h = Math.sin(s),\n      b = Math.cos(s),\n      v = e[0] - t[0],\n      n = e[1] - t[1],\n      g = v * b - n * h,\n      E = v * h + n * b;\n  return [g + t[0], E + t[1]];\n}\n\nfunction V(e, t, s) {\n  return l(e, f(a(t, e), s));\n}\n\nfunction Z(e, t, s) {\n  return l(e, f(t, s));\n}\n\nvar {\n  min: _,\n  PI: ge\n} = Math,\n    se = .275,\n    j = ge + 1e-4;\n\nfunction ie(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let {\n    size: s = 16,\n    smoothing: h = .5,\n    thinning: b = .5,\n    simulatePressure: v = !0,\n    easing: n = r => r,\n    start: g = {},\n    end: E = {},\n    last: z = !1\n  } = t,\n      {\n    cap: d = !0,\n    taper: x = 0,\n    easing: q = r => r * (2 - r)\n  } = g,\n      {\n    cap: m = !0,\n    taper: c = 0,\n    easing: M = r => --r * r * r + 1\n  } = E;\n  if (e.length === 0 || s <= 0) return [];\n  let H = e[e.length - 1].runningLength,\n      $ = Math.pow(s * h, 2),\n      D = [],\n      R = [],\n      N = e.slice(0, 10).reduce((r, i) => {\n    let o = i.pressure;\n\n    if (v) {\n      let u = _(1, i.distance / s),\n          J = _(1, 1 - u);\n\n      o = _(1, r + (J - r) * (u * se));\n    }\n\n    return (r + o) / 2;\n  }, e[0].pressure),\n      p = W(s, b, e[e.length - 1].pressure, n),\n      U,\n      B = e[0].vector,\n      I = e[0].point,\n      C = I,\n      y = I,\n      O = C;\n\n  for (let r = 0; r < e.length; r++) {\n    let {\n      pressure: i\n    } = e[r],\n        {\n      point: o,\n      vector: u,\n      distance: J,\n      runningLength: K\n    } = e[r];\n    if (r < e.length - 1 && H - K < 3) continue;\n\n    if (b) {\n      if (v) {\n        let P = _(1, J / s),\n            Q = _(1, 1 - P);\n\n        i = _(1, N + (Q - N) * (P * se));\n      }\n\n      p = W(s, b, i, n);\n    } else p = s / 2;\n\n    U === void 0 && (U = p);\n    let pe = K < x ? q(K / x) : 1,\n        ae = H - K < c ? M((H - K) / c) : 1;\n\n    if (p = Math.max(.01, p * Math.min(pe, ae)), r === e.length - 1) {\n      let P = f(L(u), p);\n      D.push(a(o, P)), R.push(l(o, P));\n      continue;\n    }\n\n    let A = e[r + 1].vector,\n        ee = ne(u, A);\n\n    if (ee < 0) {\n      let P = f(L(B), p);\n\n      for (let Q = 1 / 13, w = 0; w <= 1; w += Q) y = T(a(o, P), o, j * w), D.push(y), O = T(l(o, P), o, j * -w), R.push(O);\n\n      I = y, C = O;\n      continue;\n    }\n\n    let te = f(L(V(A, u, ee)), p);\n    y = a(o, te), (r <= 1 || Y(I, y) > $) && (D.push(y), I = y), O = l(o, te), (r <= 1 || Y(C, O) > $) && (R.push(O), C = O), N = i, B = u;\n  }\n\n  let S = e[0].point.slice(0, 2),\n      k = e.length > 1 ? e[e.length - 1].point.slice(0, 2) : l(e[0].point, [1, 1]),\n      X = [],\n      F = [];\n\n  if (e.length === 1) {\n    if (!(x || c) || z) {\n      let r = Z(S, G(L(a(S, k))), -(U || p)),\n          i = [];\n\n      for (let o = 1 / 13, u = o; u <= 1; u += o) i.push(T(r, S, j * 2 * u));\n\n      return i;\n    }\n  } else {\n    if (!(x || c && e.length === 1)) if (d) for (let i = 1 / 13, o = i; o <= 1; o += i) {\n      let u = T(R[0], S, j * o);\n      X.push(u);\n    } else {\n      let i = a(D[0], R[0]),\n          o = f(i, .5),\n          u = f(i, .51);\n      X.push(a(S, o), a(S, u), l(S, u), l(S, o));\n    }\n    let r = L(re(e[e.length - 1].vector));\n    if (c || x && e.length === 1) F.push(k);else if (m) {\n      let i = Z(k, r, p);\n\n      for (let o = 1 / 29, u = o; u < 1; u += o) F.push(T(i, k, j * 3 * u));\n    } else F.push(l(k, f(r, p)), l(k, f(r, p * .99)), a(k, f(r, p * .99)), a(k, f(r, p)));\n  }\n\n  return D.concat(F, R.reverse(), X);\n}\n\nfunction ce(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var q;\n  let {\n    streamline: s = .5,\n    size: h = 16,\n    last: b = !1\n  } = t;\n  if (e.length === 0) return [];\n  let v = .15 + (1 - s) * .85,\n      n = Array.isArray(e[0]) ? e : e.map(_ref => {\n    let {\n      x: m,\n      y: c,\n      pressure: M = .5\n    } = _ref;\n    return [m, c, M];\n  });\n\n  if (n.length === 2) {\n    let m = n[1];\n    n = n.slice(0, -1);\n\n    for (let c = 1; c < 5; c++) n.push(V(n[0], m, c / 4));\n  }\n\n  n.length === 1 && (n = [...n, [...l(n[0], [1, 1]), ...n[0].slice(2)]]);\n  let g = [{\n    point: [n[0][0], n[0][1]],\n    pressure: n[0][2] >= 0 ? n[0][2] : .25,\n    vector: [1, 1],\n    distance: 0,\n    runningLength: 0\n  }],\n      E = !1,\n      z = 0,\n      d = g[0],\n      x = n.length - 1;\n\n  for (let m = 1; m < n.length; m++) {\n    let c = b && m === x ? n[m].slice(0, 2) : V(d.point, n[m], v);\n    if (oe(d.point, c)) continue;\n    let M = ue(c, d.point);\n\n    if (z += M, m < x && !E) {\n      if (z < h) continue;\n      E = !0;\n    }\n\n    d = {\n      point: c,\n      pressure: n[m][2] >= 0 ? n[m][2] : .5,\n      vector: G(a(d.point, c)),\n      distance: M,\n      runningLength: z\n    }, g.push(d);\n  }\n\n  return g[0].vector = ((q = g[1]) == null ? void 0 : q.vector) || [0, 0], g;\n}\n\nfunction me(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return ie(ce(e, t), t);\n}\n\nvar Te = me;\nexport { Te as default, me as getStroke, ie as getStrokeOutlinePoints, ce as getStrokePoints };","map":{"version":3,"sources":["C:/Projects/kribble/node_modules/perfect-freehand/dist/esm/index.js"],"names":["W","e","t","s","h","b","re","l","a","f","le","L","ne","oe","fe","Math","hypot","be","Y","G","ue","T","sin","cos","v","n","g","E","V","Z","min","_","PI","ge","se","j","ie","size","smoothing","thinning","simulatePressure","easing","r","start","end","last","z","cap","d","taper","x","q","m","c","M","length","H","runningLength","$","pow","D","R","N","slice","reduce","i","o","pressure","u","distance","J","p","U","B","vector","I","point","C","y","O","K","P","Q","pe","ae","max","push","A","ee","w","te","S","k","X","F","concat","reverse","ce","streamline","Array","isArray","map","me","Te","default","getStroke","getStrokeOutlinePoints","getStrokePoints"],"mappings":"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","sourcesContent":["function W(e,t,s,h=b=>b){return e*h(.5-t*(.5-s))}function re(e){return[-e[0],-e[1]]}function l(e,t){return[e[0]+t[0],e[1]+t[1]]}function a(e,t){return[e[0]-t[0],e[1]-t[1]]}function f(e,t){return[e[0]*t,e[1]*t]}function le(e,t){return[e[0]/t,e[1]/t]}function L(e){return[e[1],-e[0]]}function ne(e,t){return e[0]*t[0]+e[1]*t[1]}function oe(e,t){return e[0]===t[0]&&e[1]===t[1]}function fe(e){return Math.hypot(e[0],e[1])}function be(e){return e[0]*e[0]+e[1]*e[1]}function Y(e,t){return be(a(e,t))}function G(e){return le(e,fe(e))}function ue(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function T(e,t,s){let h=Math.sin(s),b=Math.cos(s),v=e[0]-t[0],n=e[1]-t[1],g=v*b-n*h,E=v*h+n*b;return[g+t[0],E+t[1]]}function V(e,t,s){return l(e,f(a(t,e),s))}function Z(e,t,s){return l(e,f(t,s))}var{min:_,PI:ge}=Math,se=.275,j=ge+1e-4;function ie(e,t={}){let{size:s=16,smoothing:h=.5,thinning:b=.5,simulatePressure:v=!0,easing:n=r=>r,start:g={},end:E={},last:z=!1}=t,{cap:d=!0,taper:x=0,easing:q=r=>r*(2-r)}=g,{cap:m=!0,taper:c=0,easing:M=r=>--r*r*r+1}=E;if(e.length===0||s<=0)return[];let H=e[e.length-1].runningLength,$=Math.pow(s*h,2),D=[],R=[],N=e.slice(0,10).reduce((r,i)=>{let o=i.pressure;if(v){let u=_(1,i.distance/s),J=_(1,1-u);o=_(1,r+(J-r)*(u*se))}return(r+o)/2},e[0].pressure),p=W(s,b,e[e.length-1].pressure,n),U,B=e[0].vector,I=e[0].point,C=I,y=I,O=C;for(let r=0;r<e.length;r++){let{pressure:i}=e[r],{point:o,vector:u,distance:J,runningLength:K}=e[r];if(r<e.length-1&&H-K<3)continue;if(b){if(v){let P=_(1,J/s),Q=_(1,1-P);i=_(1,N+(Q-N)*(P*se))}p=W(s,b,i,n)}else p=s/2;U===void 0&&(U=p);let pe=K<x?q(K/x):1,ae=H-K<c?M((H-K)/c):1;if(p=Math.max(.01,p*Math.min(pe,ae)),r===e.length-1){let P=f(L(u),p);D.push(a(o,P)),R.push(l(o,P));continue}let A=e[r+1].vector,ee=ne(u,A);if(ee<0){let P=f(L(B),p);for(let Q=1/13,w=0;w<=1;w+=Q)y=T(a(o,P),o,j*w),D.push(y),O=T(l(o,P),o,j*-w),R.push(O);I=y,C=O;continue}let te=f(L(V(A,u,ee)),p);y=a(o,te),(r<=1||Y(I,y)>$)&&(D.push(y),I=y),O=l(o,te),(r<=1||Y(C,O)>$)&&(R.push(O),C=O),N=i,B=u}let S=e[0].point.slice(0,2),k=e.length>1?e[e.length-1].point.slice(0,2):l(e[0].point,[1,1]),X=[],F=[];if(e.length===1){if(!(x||c)||z){let r=Z(S,G(L(a(S,k))),-(U||p)),i=[];for(let o=1/13,u=o;u<=1;u+=o)i.push(T(r,S,j*2*u));return i}}else{if(!(x||c&&e.length===1))if(d)for(let i=1/13,o=i;o<=1;o+=i){let u=T(R[0],S,j*o);X.push(u)}else{let i=a(D[0],R[0]),o=f(i,.5),u=f(i,.51);X.push(a(S,o),a(S,u),l(S,u),l(S,o))}let r=L(re(e[e.length-1].vector));if(c||x&&e.length===1)F.push(k);else if(m){let i=Z(k,r,p);for(let o=1/29,u=o;u<1;u+=o)F.push(T(i,k,j*3*u))}else F.push(l(k,f(r,p)),l(k,f(r,p*.99)),a(k,f(r,p*.99)),a(k,f(r,p)))}return D.concat(F,R.reverse(),X)}function ce(e,t={}){var q;let{streamline:s=.5,size:h=16,last:b=!1}=t;if(e.length===0)return[];let v=.15+(1-s)*.85,n=Array.isArray(e[0])?e:e.map(({x:m,y:c,pressure:M=.5})=>[m,c,M]);if(n.length===2){let m=n[1];n=n.slice(0,-1);for(let c=1;c<5;c++)n.push(V(n[0],m,c/4))}n.length===1&&(n=[...n,[...l(n[0],[1,1]),...n[0].slice(2)]]);let g=[{point:[n[0][0],n[0][1]],pressure:n[0][2]>=0?n[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],E=!1,z=0,d=g[0],x=n.length-1;for(let m=1;m<n.length;m++){let c=b&&m===x?n[m].slice(0,2):V(d.point,n[m],v);if(oe(d.point,c))continue;let M=ue(c,d.point);if(z+=M,m<x&&!E){if(z<h)continue;E=!0}d={point:c,pressure:n[m][2]>=0?n[m][2]:.5,vector:G(a(d.point,c)),distance:M,runningLength:z},g.push(d)}return g[0].vector=((q=g[1])==null?void 0:q.vector)||[0,0],g}function me(e,t={}){return ie(ce(e,t),t)}var Te=me;export{Te as default,me as getStroke,ie as getStrokeOutlinePoints,ce as getStrokePoints};\n"]},"metadata":{},"sourceType":"module"}